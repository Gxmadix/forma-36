@import 'settings/colors';
@import 'settings/typography';
@import 'settings/dimensions';
@import 'settings/transitions';
@import 'settings/shadows';
@import 'settings/borders';
@import 'settings/z-index';

.Button,
.Button:link {
  box-sizing: border-box;
  display: inline-flex;
  /* TODO: Remove calc once the 14px font-size line-height is 20px */
  padding: calc(var(--spacing-xs) + 1px) var(--spacing-m);
  border: 1px solid var(--color-element-dark);
  border-radius: var(--border-radius-medium);
  color: var(--color-contrast-mid);
  font-family: var(--font-stack-primary);
  font-size: var(--font-size-m);
  line-height: 20px; /* Replace with 14px font-size line-height once it's 20px */
  font-weight: 500;
  overflow: hidden;
  background-size: 100% 200%;
  transition: background var(--transition-duration-short)
      var(--transition-easing-default),
    opacity var(--transition-duration-default) var(--transition-easing-default),
    border-color var(--transition-duration-default)
      var(--transition-easing-default);
  text-decoration: none;
  box-shadow: var(--box-shadow-positive);
  align-items: center;

  &:hover:not(.Button--disabled) {
    cursor: pointer;
  }

  &:focus:not(.Button--disabled) {
    outline: none;
  }
}

.Button__icon {
  min-width: 18px;
  margin-right: var(--spacing-xs);
}

.Button__dropdown-icon {
  margin-left: var(--spacing-xs);
}

.Button--full-width {
  width: 100%;
}

.Button--muted {
  background-color: var(--color-white);
  border-color: var(--color-element-dark);
  box-shadow: 0px 1px 0px rgb(25, 37, 50, 0.08);

  &:hover:not(.Button--disabled) {
    background-color: var(--color-element-lightest);
  }

  &.Button--is-active:not(.Button--disabled),
  &:active:not(.Button--disabled) {
    transition: none;
    background-color: var(--color-element-light);
  }

  &:focus:not(.Button--disabled):not(:focus-visible) {
    box-shadow: var(--glow-muted);
  }
}

.Button--naked {
  background-color: transparent;
  border: none;
  box-shadow: none;

  &:hover:not(.Button--disabled) {
    background-color: var(--color-element-lightest);
  }

  &.Button--is-active:not(.Button--disabled),
  &:active:not(.Button--disabled) {
    transition: none;
    background-color: var(--color-element-light);
  }

  &:focus:not(.Button--disabled):not(:focus-visible) {
    box-shadow: var(--glow-muted);
  }

  &.Button:link {
    border: none;
  }
}

.Button--primary {
  border-color: var(--color-blue-mid);
  background-color: var(--color-blue-mid);
  color: var(--color-white);

  &:hover:not(.Button--disabled) {
    border-color: var(--color-blue-base);
    background-color: var(--color-blue-base);
  }

  &.Button--is-active:not(.Button--disabled),
  &:active:not(.Button--disabled) {
    transition: none;
    border-color: var(--color-blue-dark);
    background-color: var(--color-blue-dark);
  }

  &:focus:not(.Button--disabled):not(:focus-visible) {
    border-color: var(--color-blue-base);
    box-shadow: var(--glow-primary);
  }

  &.Button:link {
    border-color: var(--color-blue-mid);
  }
}

.Button--positive {
  border-color: var(--color-green-mid);
  background-color: var(--color-green-mid);
  background-size: 100% 200%;
  color: var(--color-white);

  &:hover:not(.Button--disabled) {
    border-color: var(--color-green-base);
    background-color: var(--color-green-base);
  }

  &.Button--is-active:not(.Button--disabled),
  &:active:not(.Button--disabled) {
    transition: none;
    border-color: var(--color-green-dark);
    background-color: var(--color-green-dark);
  }

  &:focus:not(.Button--disabled):not(:focus-visible) {
    border-color: var(--color-green-base);
    box-shadow: var(--glow-positive);
  }

  &.Button:link {
    border-color: var(--color-green-mid);
  }
}

.Button--negative {
  border-color: var(--color-red-mid);
  background-color: var(--color-red-mid);
  background-size: 100% 200%;
  color: var(--color-white);

  &:hover:not(.Button--disabled) {
    background-position: 0 100%;
    border-color: var(--color-red-base);
    background-color: var(--color-red-base);
  }

  &.Button--is-active:not(.Button--disabled),
  &:active:not(.Button--disabled) {
    transition: none;
    background-position: 0 100%;
    border-color: var(--color-red-dark);
    background-color: var(--color-red-dark);
  }

  &:focus:not(.Button--disabled):not(:focus-visible) {
    border-color: var(--color-red-dark);
    box-shadow: var(--glow-negative);
  }

  &.Button:link {
    border-color: var(--color-red-mid);
  }
}

.Button--warning {
  border-color: var(--color-orange-mid);
  background-color: var(--color-orange-mid);
  background-size: 100% 200%;

  &:hover:not(.Button--disabled) {
    background-position: 0 100%;
    border-color: var(--color-orange-base);
    background-color: var(--color-orange-base);
  }

  &.Button--is-active:not(.Button--disabled),
  &:active:not(.Button--disabled) {
    transition: none;
    background-position: 0 100%;
    border-color: var(--color-orange-dark);
    background-color: var(--color-orange-dark);
  }

  &:focus:not(.Button--disabled):not(:focus-visible) {
    border-color: var(--color-orange-base);
    box-shadow: var(--glow-warning);
  }

  &.Button:link {
    border-color: var(--color-orange-mid);
  }
}

.Button--disabled {
  opacity: 0.5;
  &:hover {
    cursor: not-allowed;
  }
}

.Button--small,
.Button--small:link {
  /* TODO: Remove calc once the 14px font-size line-height is 20px */
  padding: calc(var(--spacing-2xs) + 1px) var(--spacing-m);
}

.Button--large {
  padding: var(--spacing-xs) var(--spacing-m);
  font-size: var(--font-size-xl);
  line-height: var(--line-height-default);
}

.Button--is-dropdown {
  justify-content: space-between;
  padding-right: var(--spacing-xs);
}

.Button__spinner {
  margin-right: var(--spacing-xs);
  transition: opacity,
    width var(--transition-duration-default) var(--transition-easing-default);
}

.Button--spinner--enter {
  opacity: 0;
  width: 0px;
}

.Button--spinner-active {
  opacity: 1;
  width: 14px;
}

.Button--spinner--exit {
  opacity: 1;
  width: 14px;
}

.Button--spinner-exit-active {
  opacity: 0;
  width: 0px;
}
